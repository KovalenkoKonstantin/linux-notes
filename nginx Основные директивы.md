–ù–∏–∂–µ ‚Äî üî• **–∫–æ–Ω—Å–ø–µ–∫—Ç –ø–æ 30 –∫–ª—é—á–µ–≤—ã–º –¥–∏—Ä–µ–∫—Ç–∏–≤–∞–º NGINX**, –±–µ–∑ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ –æ–±–æ–π—Ç–∏—Å—å. –£–ø–æ—Ä –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫—É, —è—Å–Ω–æ—Å—Ç—å, —Å—Ç—Ä—É–∫—Ç—É—Ä—É. –ü–æ–¥–æ–π–¥—ë—Ç –∏ –¥–ª—è –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è, –∏ –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã.

---

# üìò –ö–æ–Ω—Å–ø–µ–∫—Ç: –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–∏–≤—ã NGINX (–¢–û–ü-30)

| ‚Ññ   | –î–∏—Ä–µ–∫—Ç–∏–≤–∞            | –ö–æ–Ω—Ç–µ–∫—Å—Ç                     | –û–ø–∏—Å–∞–Ω–∏–µ –∏ –ø—Ä–∏–º–µ—Ä                                                                                 |
| --- | -------------------- | ---------------------------- | ------------------------------------------------------------------------------------------------- |
| 1Ô∏è‚É£ | `worker_processes`   | `main`                       | –ö–æ–ª-–≤–æ –≤–æ—Ä–∫–µ—Ä–æ–≤ (–ø–æ—Ç–æ–∫–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∫–∏). –û–±—ã—á–Ω–æ = —á–∏—Å–ª—É —è–¥–µ—Ä.<br>üí° `worker_processes auto;`          |
| 2Ô∏è‚É£ | `worker_connections` | `events`                     | –ú–∞–∫—Å. —á–∏—Å–ª–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –Ω–∞ –≤–æ—Ä–∫–µ—Ä. <br>üí° `worker_connections 1024;`                               |
| 3Ô∏è‚É£ | `events`             | `main`                       | –ë–ª–æ–∫ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å–µ—Ç–µ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π. <br>üí° `events { worker_connections 1024; }`                       |
| 4Ô∏è‚É£ | `http`               | `main`                       | –û—Å–Ω–æ–≤–Ω–æ–π –±–ª–æ–∫ HTTP-–Ω–∞—Å—Ç—Ä–æ–µ–∫. <br>üí° `http { include mime.types; ... }`                            |
| 5Ô∏è‚É£ | `server`             | `http`                       | –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Ö–æ—Å—Ç. <br>üí° `server { listen 80; server_name example.com; }`                         |
| 6Ô∏è‚É£ | `listen`             | `server`                     | –ü–æ—Ä—Ç/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∫–æ—Ç–æ—Ä—ã–π —Å–ª—É—à–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä. <br>üí° `listen 80;` –∏–ª–∏ `listen [::]:443 ssl;`            |
| 7Ô∏è‚É£ | `server_name`        | `server`                     | –ò–º–µ–Ω–∞ —Ö–æ—Å—Ç–∞ (–¥–æ–º–µ–Ω–æ–≤), –∫–æ—Ç–æ—Ä—ã–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –±–ª–æ–∫. <br>üí° `server_name mysite.com www.mysite.com;` |
| 8Ô∏è‚É£ | `location`           | `server`, `location`         | –£—Å–ª–æ–≤–∏–µ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤. <br>üí° `location /images/ { ... }`                                |
| 9Ô∏è‚É£ | `root`               | `http`, `server`, `location` | –ü—É—Ç—å –∫ —Ñ–∞–π–ª–∞–º –¥–ª—è –æ—Ç–≤–µ—Ç–∞. <br>üí° `root /var/www/html;`                                            |
| üîü  | `index`              | `http`, `server`, `location` | –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏. <br>üí° `index index.html index.htm;`                                 |

---

## üì° –ü—Ä–æ–∫—Å–∏ –∏ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞

| ‚Ññ      | –î–∏—Ä–µ–∫—Ç–∏–≤–∞          | –ö–æ–Ω—Ç–µ–∫—Å—Ç             | –û–ø–∏—Å–∞–Ω–∏–µ –∏ –ø—Ä–∏–º–µ—Ä                                                                    |
| ------ | ------------------ | -------------------- | ------------------------------------------------------------------------------------ |
| 1Ô∏è‚É£1Ô∏è‚É£ | `proxy_pass`       | `location`           | –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –±—ç–∫–µ–Ω–¥. <br>üí° `proxy_pass http://127.0.0.1:5000;`        |
| 1Ô∏è‚É£2Ô∏è‚É£ | `proxy_set_header` | `location`, `server` | –ü–µ—Ä–µ–¥–∞—á–∞/–ø–æ–¥–º–µ–Ω–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤. <br>üí° `proxy_set_header Host $host;`                   |
| 1Ô∏è‚É£3Ô∏è‚É£ | `upstream`         | `http`               | –ì—Ä—É–ø–ø–∞ –±—ç–∫–µ–Ω–¥–æ–≤ (–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞). <br>üí° `upstream backend { server 127.0.0.1:5000; }` |
| 1Ô∏è‚É£4Ô∏è‚É£ | `include`          | –ª—é–±–æ–π                | –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ñ–∞–π–ª–∞. <br>üí° `include /etc/nginx/conf.d/*.conf;`                        |
| 1Ô∏è‚É£5Ô∏è‚É£ | `try_files`        | `location`           | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤. <br>üí° `try_files $uri $uri/ =404;`                   |

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ HTTPS

| ‚Ññ      | –î–∏—Ä–µ–∫—Ç–∏–≤–∞             | –ö–æ–Ω—Ç–µ–∫—Å—Ç                     | –û–ø–∏—Å–∞–Ω–∏–µ –∏ –ø—Ä–∏–º–µ—Ä                                                               |
| ------ | --------------------- | ---------------------------- | ------------------------------------------------------------------------------- |
| 1Ô∏è‚É£6Ô∏è‚É£ | `ssl_certificate`     | `server`                     | –ü—É—Ç—å –∫ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—É. <br>üí° `ssl_certificate /etc/ssl/cert.pem;`                 |
| 1Ô∏è‚É£7Ô∏è‚É£ | `ssl_certificate_key` | `server`                     | –ü—É—Ç—å –∫ –ø—Ä–∏–≤–∞—Ç–Ω–æ–º—É –∫–ª—é—á—É.                                                        |
| 1Ô∏è‚É£8Ô∏è‚É£ | `ssl_protocols`       | `http`, `server`             | –†–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ SSL/TLS. <br>üí° `ssl_protocols TLSv1.2 TLSv1.3;`             |
| 1Ô∏è‚É£9Ô∏è‚É£ | `ssl_ciphers`         | `http`, `server`             | –†–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ —à–∏—Ñ—Ä—ã. <br>üí° `ssl_ciphers HIGH:!aNULL:!MD5;`                       |
| 2Ô∏è‚É£0Ô∏è‚É£ | `add_header`          | `http`, `server`, `location` | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. <br>üí° `add_header X-Frame-Options "DENY";` |

---

## üìä –õ–æ–≥–∏ –∏ –æ—Ç–ª–∞–¥–∫–∞

| ‚Ññ      | –î–∏—Ä–µ–∫—Ç–∏–≤–∞    | –ö–æ–Ω—Ç–µ–∫—Å—Ç                     | –û–ø–∏—Å–∞–Ω–∏–µ –∏ –ø—Ä–∏–º–µ—Ä                                                                              |
| ------ | ------------ | ---------------------------- | ---------------------------------------------------------------------------------------------- |
| 2Ô∏è‚É£1Ô∏è‚É£ | `access_log` | `http`, `server`, `location` | –ü—É—Ç—å –∏ —Ñ–æ—Ä–º–∞—Ç –ª–æ–≥–∞ –¥–æ—Å—Ç—É–ø–∞. <br>üí° `access_log /var/log/nginx/access.log;`                     |
| 2Ô∏è‚É£2Ô∏è‚É£ | `error_log`  | `main`, `http`, `server`     | –ü—É—Ç—å –∏ —É—Ä–æ–≤–µ–Ω—å –ª–æ–≥–æ–≤ –æ—à–∏–±–æ–∫. <br>üí° `error_log /var/log/nginx/error.log warn;`                 |
| 2Ô∏è‚É£3Ô∏è‚É£ | `log_format` | `http`                       | –§–æ—Ä–º–∞—Ç –∑–∞–ø–∏—Å–∏ –ª–æ–≥–æ–≤. <br>üí° `log_format main '$remote_addr - $remote_user [$time_local] ...';` |

---

## ‚öôÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º

| ‚Ññ      | –î–∏—Ä–µ–∫—Ç–∏–≤–∞              | –ö–æ–Ω—Ç–µ–∫—Å—Ç                     | –û–ø–∏—Å–∞–Ω–∏–µ –∏ –ø—Ä–∏–º–µ—Ä                                                                              |
| ------ | ---------------------- | ---------------------------- | ---------------------------------------------------------------------------------------------- |
| 2Ô∏è‚É£4Ô∏è‚É£ | `client_max_body_size` | `http`, `server`, `location` | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞. <br>üí° `client_max_body_size 10M;`                                |
| 2Ô∏è‚É£5Ô∏è‚É£ | `keepalive_timeout`    | `http`, `server`, `location` | –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è. <br>üí° `keepalive_timeout 65;`                                         |
| 2Ô∏è‚É£6Ô∏è‚É£ | `sendfile`             | `http`, `server`, `location` | –ë—ã—Å—Ç—Ä–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ —Ñ–∞–π–ª–æ–≤ —è–¥—Ä–æ–º. <br>üí° `sendfile on;`                                           |
| 2Ô∏è‚É£7Ô∏è‚É£ | `gzip`                 | `http`, `server`, `location` | –í–∫–ª—é—á–µ–Ω–∏–µ gzip-—Å–∂–∞—Ç–∏—è. <br>üí° `gzip on;`                                                       |
| 2Ô∏è‚É£8Ô∏è‚É£ | `rewrite`              | `server`, `location`         | –ü–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏–µ URL. <br>üí° `rewrite ^/old$ /new permanent;`                                     |
| 2Ô∏è‚É£9Ô∏è‚É£ | `return`               | `server`, `location`         | –ü—Ä–æ—Å—Ç–æ–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—Ç –∫–æ–¥–∞. <br>üí° `return 301 https://example.com$request_uri;` |
| 3Ô∏è‚É£0Ô∏è‚É£ | `error_page`           | `http`, `server`, `location` | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ—à–∏–±–æ–∫. <br>üí° `error_page 404 /404.html;`                           |

---

# üéÅ –ë–æ–Ω—É—Å: üí° –¢–∏–ø–æ–≤—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

```nginx
server {
    listen 80;
    server_name example.com;

    location / {
        proxy_pass http://127.0.0.1:5000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }

    error_page 404 /404.html;
    location = /404.html {
        root /var/www/html;
    }
}
```
