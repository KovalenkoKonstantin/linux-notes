
# üßë‚Äçüíª 17. –†–∞–±–æ—Ç–∞ —Å `su` –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –≤ Linux

## üî∏ –ú–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞

Linux ‚Äî —ç—Ç–æ **–º–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è** —Å–∏—Å—Ç–µ–º–∞. –ß—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —Å–∫–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —É–∂–µ —Å–æ–∑–¥–∞–Ω–æ —Å–∏—Å—Ç–µ–º–æ–π:

```bash
cat /etc/passwd | wc -l
```
–ß—Ç–æ–±—ã –≤—ã–≤–µ—Å—Ç–∏ —Ç–æ–ª—å–∫–æ –∏–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É cut:
```bash
cut -d: -f1 /etc/passwd
```
–ö–æ–º–∞–Ω–¥–∞ `cut` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —á–∞—Å—Ç–µ–π —Å—Ç—Ä–æ–∫ –∏–∑ —Ñ–∞–π–ª–∞ –∏–ª–∏ –ø–æ—Ç–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö.
`d` - **delimiter**
`f1` - —ç—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä, —É–∫–∞–∑—ã–≤–∞—é—â–∏–π, –∫–∞–∫–æ–µ –ø–æ–ª–µ –Ω—É–∂–Ω–æ –∏–∑–≤–ª–µ—á—å. –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ `-f1` –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –Ω—É–∂–Ω–æ –≤–∑—è—Ç—å **–ø–µ—Ä–≤–æ–µ –ø–æ–ª–µ** –∏–∑ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏.

–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∏–∑ –Ω–∏—Ö ‚Äî —ç—Ç–æ **—Å–µ—Ä–≤–∏—Å–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏**, –Ω—É–∂–Ω—ã–µ —Å–∏—Å—Ç–µ–º–µ. –°—Ä–µ–¥–∏ –Ω–∏—Ö:

- **root** ‚Äî —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å,
- **user** ‚Äî —Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å,
- –∏ –¥—Ä—É–≥–∏–µ ‚Äî —Å–∏—Å—Ç–µ–º–Ω—ã–µ.

---

## ‚ûï –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–î–ª—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ —Å–æ–∑–¥–∞–¥–∏–º –≤—Ç–æ—Ä–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

```bash
sudo useradd user2
sudo passwd user2
```

---

## üîÅ –ö–æ–º–∞–Ω–¥–∞ `su`

–ö–æ–º–∞–Ω–¥–∞ `su` (substitute user) ‚Äî —Å–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

```bash
su user2
```

üîë –ü–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –≤–≤–µ—Å—Ç–∏ **–ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è user2**.

üìÇ –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–π—Ç–∏ –≤ –µ–≥–æ –¥–æ–º–∞—à–Ω—é—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é:

```bash
cd /home/user2
```

–î–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –æ–±—Ä–∞—Ç–Ω–æ:

```bash
exit
# –∏–ª–∏ Ctrl + D
```

–ß—Ç–æ–±—ã —Å—Ç–∞—Ç—å —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º:

```bash
su
# –∏–ª–∏
su root
```

---

## üß† –í–∞–∂–Ω–æ–µ –æ `su`

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `su user2` –∑–∞–ø—É—Å–∫–∞–µ—Ç **non-login shell**, —Ç.–µ. –æ–∫—Ä—É–∂–µ–Ω–∏–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è.

–ß—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é —Å–µ—Å—Å–∏—é –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –µ–≥–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –Ω–∞—á–∞–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–µ–π:

```bash
su - user2
# –∏–ª–∏
su -l user2
```

üìç –ó–Ω–∞–∫ `-` –ø–µ—Ä–µ–¥–∞—ë—Ç –ø–æ–ª–Ω—ã–π login shell: –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è `.bash_profile`, `.bashrc`, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Ç.–¥.

---

## üß™ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è

1. –í–æ–π–¥–∏—Ç–µ –ø–æ–¥ `user2`:

   ```bash
   su user2
   ```

2. –í —Ñ–∞–π–ª–µ `~/.bash_profile` –¥–æ–±–∞–≤—å—Ç–µ:

   ```bash
   test1=test1
   ```

3. –í `~/.bashrc` –¥–æ–±–∞–≤—å—Ç–µ:

   ```bash
   test2=test2
   ```

4. –°–Ω–æ–≤–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ `su user2` –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

   ```bash
   echo $test1   # ‚ùå –Ω–µ—Ç
   echo $test2   # ‚úÖ –µ—Å—Ç—å
   ```

–≠—Ç–æ –ø–æ—Ç–æ–º—É —á—Ç–æ `~/.bash_profile` –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∏ **non-login shell**.

–¢–µ–ø–µ—Ä—å –∑–∞–π–¥–∏—Ç–µ —Å `su - user2`:

```bash
su - user2
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:

```bash
echo $test1   # ‚úÖ
echo $test2   # ‚úÖ
```

---

## üßæ –ö–∞–∫ —É–∑–Ω–∞—Ç—å —Ç–∏–ø —Ç–µ–∫—É—â–µ–≥–æ shell?

```bash
echo $0
```

- `bash` ‚Äî non-login shell
- `-bash` ‚Äî login shell

–¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `PATH`, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –∫–∞–∫–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–ª–æ—Å—å:

```bash
echo $PATH
```

---

## üß† –û–±–∑–æ—Ä: —Ç–∏–ø—ã –æ–±–æ–ª–æ—á–µ–∫ (shell)

| –¢–∏–ø                      | Login | Interactive | –ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞                    |
|--------------------------|:-----:|:-----------:|-----------------------------------|
| Login + Interactive      | ‚úÖ    | ‚úÖ          | SSH, Ctrl+Alt+F2, `su -`          |
| Non-login + Interactive | ‚ùå    | ‚úÖ          | –¢–µ—Ä–º–∏–Ω–∞–ª –≤ GUI                    |
| Non-login + Non-interactive | ‚ùå | ‚ùå         | –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–æ–≤ —á–µ—Ä–µ–∑ cron, etc. |

---

## ‚öôÔ∏è –°—Ü–µ–Ω–∞—Ä–∏–π –∑–∞–ø—É—Å–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫:

**Login shell**:

1. `/etc/profile`
2. `/etc/profile.d/*`
3. `~/.bash_profile` ‚Üí –∑–∞–ø—É—Å–∫–∞–µ—Ç `~/.bashrc`
4. `~/.bashrc` ‚Üí –∑–∞–ø—É—Å–∫–∞–µ—Ç `/etc/bashrc`

**Non-login shell**:

1. `~/.bashrc`
2. `/etc/bashrc`
3. `/etc/profile.d/*`

---

## üõ† –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `su` —Å –∫–æ–º–∞–Ω–¥–æ–π

```bash
su - user2 -c "touch testfile"
```

–ï—Å–ª–∏ –∑–∞–±—ã—Ç—å –¥–µ—Ñ–∏—Å, –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—à–∏–±–∫–∞ –∏–∑-–∑–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –∏–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```bash
su user2 -c "touch testfile"  # ‚ùå
su - user2 -c "touch testfile"  # ‚úÖ
```

---

## üîê –†–∞–±–æ—Ç–∞ –æ—Ç –∏–º–µ–Ω–∏ root

```bash
su
su user2  # –±–µ–∑ –ø–∞—Ä–æ–ª—è, –µ—Å–ª–∏ –≤—ã root
```

Root –º–æ–∂–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –Ω–∞ –ª—é–±–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–µ–∑ –≤–≤–æ–¥–∞ –ø–∞—Ä–æ–ª—è.

---

## üìù –†–µ–∑—é–º–µ

| –ö–æ–º–∞–Ω–¥–∞                  | –û–ø–∏—Å–∞–Ω–∏–µ                                           |
|--------------------------|----------------------------------------------------|
| `su user2`               | –°–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–µ–∑ —Å–º–µ–Ω—ã –æ–∫—Ä—É–∂–µ–Ω–∏—è             |
| `su - user2`             | –ü–æ–ª–Ω–∞—è —Å–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è              |
| `su -`                   | –°–º–µ–Ω–∞ –Ω–∞ root —Å –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º                         |
| `exit` / `Ctrl+D`        | –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é               |
| `su - user2 -c "cmd"`    | –í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –æ—Ç –∏–º–µ–Ω–∏ `user2`                 |
| `echo $0`                | –£–∑–Ω–∞—Ç—å —Ç–∏–ø shell                                   |
| `echo $PATH`             | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ                                |

---

### –ü—Ä–∞–∫—Ç–∏–∫–∞: –†–∞–±–æ—Ç–∞ —Å Shell –≤ Linux

#### –í–æ–ø—Ä–æ—Å—ã

1. **–ß—Ç–æ —Ç–∞–∫–æ–µ –∏ —á–µ–º –æ—Ç–ª–∏—á–∞—é—Ç—Å—è login shell, non-login shell, interactive –∏ non-interactive shell?**

   - **Login shell** ‚Äî –æ–±–æ–ª–æ—á–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ —Å–∏—Å—Ç–µ–º—É, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ —á–µ—Ä–µ–∑ SSH –∏–ª–∏ –ø—Ä–∏ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–º –≤—Ö–æ–¥–µ –≤ —Å–∏—Å—Ç–µ–º—É. –í *login shell* –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, —Ç–∞–∫–∏–µ –∫–∞–∫:
     - `/etc/profile`
     - `~/.bash_profile` (–∏–ª–∏ `~/.bash_login`, –µ—Å–ª–∏ `~/.bash_profile` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç)
     - `~/.bashrc` (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–æ –≤ `~/.bash_profile`)
   
   - **Non-login shell** ‚Äî –æ–±–æ–ª–æ—á–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –ª–æ–≥–∏–Ω–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –≤ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–π —Å—Ä–µ–¥–µ –∏–ª–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∫–æ–º–∞–Ω–¥ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–±–æ—Ç—ã. –í *non-login shell* –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, —Ç–∞–∫–∏–µ –∫–∞–∫:
     - `~/.bashrc`
   
   - **Interactive shell** ‚Äî –æ–±–æ–ª–æ—á–∫–∞, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–∞—è –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –∫–æ–º–∞–Ω–¥—ã –∏ –ø–æ–ª—É—á–∞–µ—Ç –æ—Ç–≤–µ—Ç—ã. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∫–∞–∫ *login shell*, —Ç–∞–∫ –∏ *non-login shell*. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ —á–µ—Ä–µ–∑ SSH –∏–ª–∏ –∑–∞–ø—É—Å–∫–µ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –≤ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–π —Å—Ä–µ–¥–µ.
   
   - **Non-interactive shell** ‚Äî –æ–±–æ–ª–æ—á–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º, –æ–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥ –≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö –∏–ª–∏ —á–µ—Ä–µ–∑ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã. –í *non-interactive shell* –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤–≤–æ–¥–∞ –∫–æ–º–∞–Ω–¥ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã.

---

2. **–î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ `su`?**

   –ö–æ–º–∞–Ω–¥–∞ `su` (substitute user) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–º–µ–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Ç–µ–∫—É—â–µ–π –æ–±–æ–ª–æ—á–∫–µ. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–º –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–º–∞–Ω–¥—ã –æ—Ç –∏–º–µ–Ω–∏ –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –≤–∫–ª—é—á–∞—è —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è **root**, –µ—Å–ª–∏ –∏–∑–≤–µ—Å—Ç–µ–Ω –ø–∞—Ä–æ–ª—å —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

   –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
   ```bash
   su user2  # –°–º–µ–Ω–∞ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è user2
   su -      # –°–º–µ–Ω–∞ –Ω–∞ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è root
   ```

---

3. **–ß–µ–π –ø–∞—Ä–æ–ª—å –Ω—É–∂–Ω–æ –≤–≤–æ–¥–∏—Ç—å –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `su`?**

   –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∫–æ–º–∞–Ω–¥—ã `su`, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–≤–µ—Å—Ç–∏ –ø–∞—Ä–æ–ª—å —Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–≥–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è:
   - –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ `su user2`, –≤–≤–æ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è **user2**.
   - –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ `su -` –∏–ª–∏ `su root`, –≤–≤–æ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å **root** (—Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è).

---

4. **–ö–∞–∫–∏–µ —Ñ–∞–π–ª—ã –∑–∞–¥–µ–π—Å—Ç–≤–æ–≤–∞–Ω—ã –≤ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è?**

   –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–æ–≥–æ, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –æ–±–æ–ª–æ—á–∫–∞ **login** –∏–ª–∏ **non-login**, –∞ —Ç–∞–∫–∂–µ **interactive** –∏–ª–∏ **non-interactive**.

   - **Login shell**:
     - `/etc/profile` ‚Äî –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
     - `~/.bash_profile` (–∏–ª–∏ `~/.bash_login`, –∏–ª–∏ `~/.profile`) ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
     - –í —Ñ–∞–π–ª–µ `~/.bash_profile` —á–∞—Å—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `~/.bashrc`.
   
   - **Non-login shell**:
     - `~/.bashrc` ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è non-login shell.

   - **–û–±—â–∏–µ —Ñ–∞–π–ª—ã**:
     - `/etc/bashrc` ‚Äî –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –≤—Å–µ—Ö –æ–±–æ–ª–æ—á–µ–∫.
     - `/etc/profile.d/*` ‚Äî –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

---

### –ó–∞–¥–∞–Ω–∏—è

#### **–° –ø–æ–º–æ—â—å—é –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–æ–∫–∞–∂–∏—Ç–µ, —á—Ç–æ login shell –∏ non-login shell –æ—Ç–ª–∏—á–∞—é—Ç—Å—è**

1. –°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö:

   - –î–ª—è **login shell** –æ—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `~/.bash_profile` –∏ –¥–æ–±–∞–≤—å—Ç–µ:
     ```bash
     echo "export TEST1='This is login shell'" >> ~/.bash_profile
     ```

   - –î–ª—è **non-login shell** –æ—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `~/.bashrc` –∏ –¥–æ–±–∞–≤—å—Ç–µ:
     ```bash
     echo "export TEST2='This is non-login shell'" >> ~/.bashrc
     ```

2. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å–µ—Å—Å–∏—é –∏–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
   ```bash
   su - user2  # –≠—Ç–æ –±—É–¥–µ—Ç login shell
   echo $TEST1  # –í—ã–≤–µ–¥–µ—Ç: This is login shell
   echo $TEST2  # –ù–µ –≤—ã–≤–µ–¥–µ—Ç –Ω–∏—á–µ–≥–æ
   ```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–æ–≤—É—é –æ–±–æ–ª–æ—á–∫—É **–±–µ–∑ –ª–æ–≥–∏–Ω–∞**:
   ```bash
   su user2  # –≠—Ç–æ –±—É–¥–µ—Ç non-login shell
   echo $TEST1  # –ù–µ –≤—ã–≤–µ–¥–µ—Ç –Ω–∏—á–µ–≥–æ
   echo $TEST2  # –í—ã–≤–µ–¥–µ—Ç: This is non-login shell
   ```

---

### –í—ã–≤–æ–¥

- **Login shell** (—Å `su -`) –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–∞–π–ª `~/.bash_profile` –∏ –¥–µ–ª–∞–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `TEST1`, –Ω–æ –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `TEST2`, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –≤ `~/.bashrc`.
- **Non-login shell** (—Å `su user2`) –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ñ–∞–π–ª `~/.bashrc`, –ø–æ—ç—Ç–æ–º—É –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `TEST2` –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞, –∞ `TEST1` ‚Äî –Ω–µ—Ç.

–≠—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä –¥–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É **login shell** –∏ **non-login shell**.