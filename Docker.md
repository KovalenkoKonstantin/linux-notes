
## üß± 1. **–£–¥–∞–ª–∏–º —Å—Ç–∞—Ä—ã–µ –≤–µ—Ä—Å–∏–∏ (–µ—Å–ª–∏ –≤–¥—Ä—É–≥ —á—Ç–æ-—Ç–æ –±—ã–ª–æ)**
```bash
sudo apt-get remove docker docker-engine docker.io containerd runc
```

---

## üì¶ 2. **–£—Å—Ç–∞–Ω–æ–≤–∏–º Docker (—á–µ—Ä–µ–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π)**

```bash
sudo apt-get update

sudo apt-get install \
    ca-certificates \
    curl \
    gnupg \
    lsb-release
```

–î–æ–±–∞–≤–∏–º Docker GPG-–∫–ª—é—á:

```bash
sudo mkdir -m 0755 -p /etc/apt/keyrings

curl -fsSL https://download.docker.com/linux/ubuntu/gpg | \
sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
```

–î–æ–±–∞–≤–∏–º Docker —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

```bash
echo \
  "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] \
  https://download.docker.com/linux/ubuntu \
  $(lsb_release -cs) stable" | \
  sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
```

---

## üì• 3. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker Engine**

```bash
sudo apt-get update
sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
```
**–î–æ–±–∞–≤—å –ø—Ä–æ–∫—Å–∏ –¥–ª—è Docker (—Å –ª–æ–≥–∏–Ω–æ–º –∏ –ø–∞—Ä–æ–ª–µ–º)**

–°–æ–∑–¥–∞–π (–∏–ª–∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π) —Ñ–∞–π–ª:

```bash
sudo mkdir -p /etc/systemd/system/docker.service.d
sudo nano /etc/systemd/system/docker.service.d/http-proxy.conf
```
–î–æ–±–∞–≤—å –≤ —Ñ–∞–π–ª:

```ini
[Service]
Environment="HTTP_PROXY=http://USERNAME:PASSWORD@proxy-server:PORT/"
Environment="HTTPS_PROXY=http://USERNAME:PASSWORD@proxy-server:PORT/"
Environment="NO_PROXY=localhost,127.0.0.1"
```

–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ Docker –∏ –ø—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç:

```bash
sudo systemctl daemon-reexec
sudo systemctl daemon-reload
sudo systemctl restart docker
```

```bash
sudo docker run hello-world
```
–í –æ—Ç–≤–µ—Ç –¥–æ–ª–∂–Ω–æ –ø—Ä–∏–π—Ç–∏

```bash
Hello from Docker!
This message shows that your installation appears to be working correctly.
```

---

## ‚úÖ 4. **–î–æ–±–∞–≤–∏–º —Å–µ–±—è –≤ –≥—Ä—É–ø–ø—É `docker`, —á—Ç–æ–±—ã –Ω–µ –ø–∏—Å–∞—Ç—å `sudo`**

```bash
sudo usermod -aG docker $USER
```

–ó–∞—Ç–µ–º **–ø–µ—Ä–µ–∑–∞–π–¥–∏ –≤ —Å–µ—Å—Å–∏—é** (–∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –≤—ã–ø–æ–ª–Ω–∏ `newgrp docker`).

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≥—Ä—É–ø–ø—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**: –ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –≤—ã –¥–æ–±–∞–≤–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—É docker, –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤–∞—à –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Ö–æ–¥–∏—Ç –≤ —ç—Ç—É –≥—Ä—É–ø–ø—É, –≤—ã–ø–æ–ª–Ω–∏–≤ –∫–æ–º–∞–Ω–¥—É:

```bash
groups $USER
```
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å—Ä–µ–¥–∏ –≥—Ä—É–ø–ø –µ—Å—Ç—å `docker`.

---

## üß© 5. **–ü—Ä–æ–≤–µ—Ä–∫–∞ Docker Compose**

–¢–µ–ø–µ—Ä—å `docker compose` (—Å –ø—Ä–æ–±–µ–ª–æ–º!) —É–∂–µ –≤—Å—Ç—Ä–æ–µ–Ω. –ü—Ä–æ–≤–µ—Ä—å:

```bash
docker compose version
```

üî• –ï—Å–ª–∏ –≤–∏–¥–∏—à—å –≤–µ—Ä—Å–∏—é ‚Äî –æ—Ç–ª–∏—á–Ω–æ, –∏ Docker, –∏ Compose —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç!

---

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–≥—É ‚Äî **—Å–æ–∑–¥–∞–Ω–∏–µ `Dockerfile` –∏ `docker-compose.yml`** –¥–ª—è —É–ø–∞–∫–æ–≤–∫–∏ —Ç–≤–æ–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.  
–†–∞–∑ —É–∂ —É —Ç–µ–±—è Flask + NGINX, –ø—Ä–µ–¥–ª–∞–≥–∞—é –ø–æ–π—Ç–∏ –ø–æ **–¥–≤—É—Ö–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω–æ–π —Å—Ö–µ–º–µ**:  
1. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å Flask-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º  
2. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å NGINX, –ø—Ä–æ–∫—Å–∏—Ä—É—é—â–∏–º –Ω–∞ Flask  

---

### 1. –°–æ–∑–¥–∞—ë–º `Dockerfile` –¥–ª—è Flask-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `/www/local.work`

```bash
cd /var/www/local.work
```

```bash
nano Dockerfile
```

```Dockerfile

# Dockerfile ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ (–∏ Docker'–∞)

# –ò—Å–ø–æ–ª—å–∑—É–µ–º –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –±–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑ Python 3.10 –Ω–∞ –±–∞–∑–µ slim (–æ–±–ª–µ–≥—á—ë–Ω–Ω—ã–π Debian)
FROM python:3.10-slim

# –ü–æ–ª—É—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ ARG
ARG HTTP_PROXY
ARG HTTPS_PROXY

# –ü—Ä–æ–∫–∏–¥—ã–≤–∞–µ–º –≤ ENV
ENV http_proxy=$HTTP_PROXY
ENV https_proxy=$HTTPS_PROXY

# –ü—Ä–æ–∫—Å–∏ –¥–ª—è apt (—Å–æ–∑–¥–∞—ë—Ç—Å—è —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–∞ –ª–µ—Ç—É)
RUN echo "Acquire::http::Proxy \"${HTTP_PROXY}\";" > /etc/apt/apt.conf.d/01proxy

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è WeasyPrint
RUN apt-get update && apt-get install -y \
    build-essential \
    libpango-1.0-0 \
    libpangocairo-1.0-0 \
    libcairo2 \
    libffi-dev \
    shared-mime-info \
    && rm -rf /var/lib/apt/lists/*
# rm -rf /var/lib/apt/lists/*	–£–¥–∞–ª—è–µ—Ç –∫—ç—à apt –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏, —Å–Ω–∏–∂–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –æ–±—Ä–∞–∑–∞

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä–∞–±–æ—á—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–≤—Å—ë –±—É–¥–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –≤ /app)
WORKDIR /app

# –ö–æ–ø–∏—Ä—É–µ–º –≤—Å–µ —Ñ–∞–π–ª—ã –∏–∑ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –Ω–∞ —Ö–æ—Å—Ç–µ (–≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è Dockerfile) –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é /app –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
COPY ./ /app

# –û–±–Ω–æ–≤–ª—è–µ–º pip –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏ –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ —Ñ–∞–π–ª–∞ requirements.txt
RUN pip install --upgrade pip \
    && pip install -r requirements.txt

# –û—Ç–∫—Ä—ã–≤–∞–µ–º –ø–æ—Ä—Ç 5000 –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å Flask-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é Flask —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —ç—Ç–æ–º –ø–æ—Ä—Ç—É)
# –Ω–µ —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ –ø—Ä–æ–±—Ä–æ—Å–µ –ø–æ—Ä—Ç–æ–≤
# EXPOSE –Ω–µ –º–µ–Ω—è–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ "–ø–æ–¥—Å–∫–∞–∑–∫–∞" Docker'—É –∏ –¥—Ä—É–≥–∏–º –ª—é–¥—è–º.
EXPOSE 6000

# –ó–∞–¥–∞—ë–º –∫–æ–º–∞–Ω–¥—É, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
# –ó–∞–ø—É—Å–∫–∞–µ–º —Ñ–∞–π–ª app.py —Å Python (–æ–∂–∏–¥–∞–µ—Ç—Å—è, —á—Ç–æ –≤ app.py –µ—Å—Ç—å –∑–∞–ø—É—Å–∫ Flask-—Å–µ—Ä–≤–µ—Ä–∞)
CMD ["python", "app.py"]


```
–≤ —Ç–æ–π –∂–µ –ø–∞–ø–∫–µ (`/var/www/local.work`) –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º requirements.txt

`requirements.txt` –º–æ–∂–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥–æ–π:  
```bash
pip freeze > requirements.txt
```

–ù–æ, –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∞–ª–∏–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞

–í–æ—Ç **—á–∏—Å—Ç—ã–π `requirements.txt`**, —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π **–ø–æ —Ä–µ–∞–ª—å–Ω–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –±–∏–±–ª–∏–æ—Ç–µ–∫**:

```txt
Flask==2.3.3
requests==2.31.0
num2words==0.5.12
Jinja2==3.1.2
WeasyPrint==61.2
PyPDF2==3.0.1
```

### –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ø–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º:
| –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞      | –ó–∞—á–µ–º –Ω—É–∂–Ω–∞                              |
|------------------|-------------------------------------------|
| `Flask`          | –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫                        |
| `requests`       | –í–Ω–µ—à–Ω–∏–µ HTTP-–∑–∞–ø—Ä–æ—Å—ã                      |
| `num2words`      | –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —á–∏—Å–µ–ª –≤ —Å–ª–æ–≤–∞              |
| `Jinja2`         | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Flask'–æ–º, –º–æ–∂–Ω–æ —è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å |
| `WeasyPrint`     | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è PDF                             |
| `PyPDF2`         | –°–ª–∏—è–Ω–∏–µ PDF                               |

---

### üí° –°–æ–≤–µ—Ç—ã:

- **`sqlite3`**, `os`, `datetime`, `math`, `re`, `json` ‚Äî —ç—Ç–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Python, –∏—Ö –Ω–µ –Ω–∞–¥–æ —É–∫–∞–∑—ã–≤–∞—Ç—å.
- **`Brlapi`**, `dbus-python`, `pycups`, `systemd-python`, `cloud-init` –∏ —Ç.–ø. ‚Äî —ç—Ç–æ –Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –Ω–µ —Å—Ç–∞–≤—è—Ç—Å—è —á–µ—Ä–µ–∑ `pip` –∏ –Ω–µ –Ω—É–∂–Ω—ã —Ç–µ–±–µ –¥–ª—è Flask-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å `gunicorn`, –µ—Å–ª–∏ —Ö–æ—á–µ—à—å production-—Å–µ—Ä–≤–µ—Ä:
  ```txt
  gunicorn==21.2.0
  ```
---

### 2. –°–æ–∑–¥–∞—ë–º `docker-compose.yml`

```bash
nano docker-compose.yml
```

---

### 3. –ü–∏—à–µ–º `docker-compose.yml`

```yaml
# version: '3.8'  –° Docker Compose v2 (–∞ —É —Ç–µ–±—è –∏–º–µ–Ω–Ω–æ –æ–Ω) –¥–∏—Ä–µ–∫—Ç–∏–≤–∞ version: —É—Å—Ç–∞—Ä–µ–ª–∞ –∏ –Ω–µ –Ω—É–∂–Ω–∞ –≤–æ–≤—Å–µ.

services:
  flask-app:
    build:                                                  # build: —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å Dockerfile –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ docker-compose.yml
      context: .
      args:
        HTTP_PROXY: ${HTTP_PROXY}
        HTTPS_PROXY: ${HTTPS_PROXY}
    container_name: flask-app                               # –ú–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è local.work –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
    ports:
      - "5000:5000"                                         # –ø—Ä–∞–≤–∏–ª–æ –ø—Ä–æ–±—Ä–æ—Å–∞ –ø–æ—Ä—Ç–æ–≤ –ü–µ—Ä–≤—ã–π 6000 ‚Äî –≤–Ω–µ—à–Ω–∏–π –ø–æ—Ä—Ç —Ö–æ—Å—Ç–∞, –í—Ç–æ—Ä–æ–π 5000 ‚Äî –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Ä—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
      - "8000:8000"
    volumes:                                                # volume ‚Äî –ø—Ä–æ–±—Ä–æ—Å –ø–∞–ø–∫–∏ —Ö–æ—Å—Ç–∞ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
      - .:/app                                              # –ú–æ–Ω—Ç–∏—Ä—É–µ–º —Ç–µ–∫—É—â—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä . ‚Äî –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å –≥–¥–µ –∫–æ–¥. /app ‚Äî –ø—É—Ç—å –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –∫—É–¥–∞ —ç—Ç–æ—Ç –∫–æ–¥ –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è.
      - ./settings/local.work:/etc/nginx/sites-enabled/     # –ú–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –∫–æ–Ω—Ñ–∏–≥ Nginx
      - ./data:/app/data                                    # –ü—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ–º –ø–∞–ø–∫—É —Å –¥–∞–Ω–Ω—ã–º–∏ –≤ /app/data –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
    networks:
      - mynetwork                                           # —Å–µ—Ç—å, –≤ –∫–æ—Ç–æ—Ä–æ–π —Ä–∞–±–æ—Ç–∞–µ—Ç Flask
    environment:                                            # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∫—Å–∏
      - http_proxy=${HTTP_PROXY}
      - https_proxy=${HTTPS_PROXY}
      - FLASK_ENV=development
    restart: unless-stopped                                 # ‚úÖ unless-stopped ‚Äî –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤—Å–µ–≥–¥–∞, –∫—Ä–æ–º–µ —Å–ª—É—á–∞—è, –∫–æ–≥–¥–∞ —Ç—ã —Å–∞–º –≤—Ä—É—á–Ω—É—é –µ–≥–æ –æ—Å—Ç–∞–Ω–æ–≤–∏–ª.

  nginx:
    image: nginx:latest                                     # –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –æ–±—Ä–∞–∑ nginx:latest
    container_name: nginx-container
    ports:
      - "80:80"                                             # 80 –Ω–∞ —Ö–æ—Å—Ç–µ ‚Üí 80 –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ (–∑–∞–≤—è–∑–∞–Ω–æ –Ω–∞ 80 –ø–æ—Ä—Ç –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö nginx -> server listen 80)
    volumes:                                                # volume ‚Äî –ø—Ä–æ–±—Ä–æ—Å –ø–∞–ø–∫–∏ —Ö–æ—Å—Ç–∞ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
      - ./settings/nginx.conf:/etc/nginx/nginx.conf         # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥ nginx
      - ./settings/local.work:/etc/nginx/sites-enabled/     # –ö–æ–Ω—Ñ–∏–≥ —Å–µ—Ä–≤–µ—Ä–∞
      - ./static:/app/static                                # –û—Ç–¥–∞—á–∞ —Å—Ç–∞—Ç–∏–∫–∏
      - ./templates:/app/templates                          # –ö–æ—Ä–µ–Ω—å —Å–∞–π—Ç–∞
      - ./local.work:/app                                   # Docker –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å app.py –∏–∑ /app/app.py, –Ω–æ –∫–æ–¥ –±—É–¥–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å ./local.work
      - ./shared:/app/shared                                # –û–±—â–∞—è –ø–∞–ø–∫–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å)
    depends_on:
      - flask-app                                           # –£–±–µ–¥–∏–º—Å—è, —á—Ç–æ Flask –∑–∞–ø—É—â–µ–Ω –¥–æ Nginx
    networks:
      - mynetwork                                           # —Å–µ—Ç—å, –≤ –∫–æ—Ç–æ—Ä–æ–π —Ä–∞–±–æ—Ç–∞–µ—Ç nginx

networks:
  mynetwork:
    driver: bridge                                          # bridge ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –¥–µ—Ñ–æ–ª—Ç–Ω–∞—è —Å–µ—Ç—å Docker

```

# –®–∞–≥–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Å–µ—Ç–∏:
1. **–°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ç–∏ Docker**: –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é —Å–µ—Ç—å `mynetwork`:

```bash
docker network create mynetwork
```

2. **–û—Ç–∫–ª—é—á–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –æ—Ç –≤—Å–µ—Ö —Å–µ—Ç–µ–π:**

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –æ–Ω–∏ –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –∫ –¥—Ä—É–≥–∏–º —Å–µ—Ç—è–º:

```bash
docker network disconnect bridge flask-app
docker network disconnect bridge nginx-container
```

2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ —Å–µ—Ç–∏**: –¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —ç—Ç–æ–π —Å–µ—Ç–∏. –û—Ç–∫–ª—é—á–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –æ—Ç —Ç–µ–∫—É—â–∏—Ö —Å–µ—Ç–µ–π (–µ—Å–ª–∏ –æ–Ω–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã) –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ –∏—Ö –∫ `mynetwork`.

  –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

  ```bash
  docker run --network mynetwork -d --name flask-app localwork-flask-app
  docker run --network mynetwork -d --name nginx-container nginx
  ```
3. **–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Å–Ω–æ–≤–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ —Å –ø–æ–º–æ—â—å—é**:

  ```bash
  docker ps
  ```
**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
–¢–µ–ø–µ—Ä—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã `flask-app` –∏ `nginx-container` —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω—ã –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –∫ —Å–µ—Ç–∏ mynetwork. –ß—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –º–æ–≥—É—Ç –ª–∏ –æ–Ω–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã:

–í –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ Flask –ø–æ–ø—ã—Ç–∞–π—Ç–µ—Å—å –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ Nginx —Å –ø–æ–º–æ—â—å—é `curl`:

```bash
docker exec -it flask-app curl nginx-container:80
```
–í –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ Nginx –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ Flask:

```bash
docker exec -it nginx-container curl flask-app:5000
```

**–ü–æ–ª—É—á–∏—Ç–µ –∏–º–µ–Ω–∞ –æ–±—Ä–∞–∑–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:**

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `docker images`, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –æ–±—Ä–∞–∑–æ–≤ –Ω–∞ –≤–∞—à–µ–π –º–∞—à–∏–Ω–µ.

```bash
docker images
```

---

### üîπ –®–∞–≥ 1: –°–æ–∑–¥–∞–π `.env` —Ñ–∞–π–ª

–°–æ–∑–¥–∞–π —Ñ–∞–π–ª `.env` –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, –≥–¥–µ —É —Ç–µ–±—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è `docker-compose.yml`, —Ç–æ –µ—Å—Ç—å –≤ `/var/www/local.work/`.

```bash
nano .env
```

---

### üîπ –®–∞–≥ 2: –ü—Ä–æ–ø–∏—à–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í `.env` —É–∫–∞–∂–∏ —Å–≤–æ–π –ª–æ–≥–∏–Ω, –ø–∞—Ä–æ–ª—å –∏ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä. –ù–∞–ø—Ä–∏–º–µ—Ä:

```env
HTTP_PROXY=http://your-login:your-password@your.proxy.server:port
HTTPS_PROXY=http://your-login:your-password@your.proxy.server:port
```

‚ö†Ô∏è **–ï—Å–ª–∏ –≤ –ª–æ–≥–∏–Ω–µ –∏–ª–∏ –ø–∞—Ä–æ–ª–µ –µ—Å—Ç—å —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `@`, `:`, `/` –∏ —Ç.–ø.), –∏—Ö –Ω–∞–¥–æ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å URL-–∫–æ–¥–∏—Ä–æ–≤–∫—É**:
- `@` ‚Üí `%40`
- `:` ‚Üí `%3A`
- `/` ‚Üí `%2F`
- `,` ‚Üí `%2C`

–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –±–µ–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥:

```bash
docker run --env-file /var/www/local.work/.env -it python:3.10-slim /bin/bash
```
–ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

```bash
echo $HTTP_PROXY
echo $HTTPS_PROXY
```

---

### üîπ –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Ç—ã –º–æ–∂–µ—à—å –∑–∞–ø—É—Å–∫–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:

```bash
docker compose up --build
```
–≠—Ç–æ –æ–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞, –∫–æ—Ç–æ—Ä–∞—è –¥–µ–ª–∞–µ—Ç **–¥–≤–µ –≤–µ—â–∏**:

1. `--build` ‚Äî —Å–Ω–∞—á–∞–ª–∞ **—Å–æ–±–∏—Ä–∞–µ—Ç –æ–±—Ä–∞–∑** (–ø–æ `Dockerfile`).
2. –ó–∞—Ç–µ–º **–∑–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã** (–ø–æ `docker-compose.yml`).

üôå


–ß—Ç–æ–±—ã –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É:

```bash
docker compose down
```

–ß—Ç–æ–±—ã –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É:

```bash
docker stop flask-app
```

–ß—Ç–æ–±—ã —É–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:
```bash
docker rm flask-app
```
–ß—Ç–æ–±—ã –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å —Ä–∞–±–æ—Ç–∞—é—â–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

```bash
docker ps
```